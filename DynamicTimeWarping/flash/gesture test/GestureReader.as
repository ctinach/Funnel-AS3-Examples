/* GestureReader.as * * Jeff Hoefs 4/14/11 * */package {	import funnel.IOModule;	import funnel.IOSystem;	import funnel.ISysexMessageListener;		import flash.events.EventDispatcher;	import flash.events.Event;	public class GestureReader extends EventDispatcher implements ISysexMessageListener  {				public static const GESTURE:uint = 0x01;				protected var _io:IOModule;				private var _data:Array;		private var _command:uint;		private var _gesture:int;						public function GestureReader(ioModule:*) {						if (ioModule is IOModule) {				_io = ioModule;			}			else if (ioModule is IOSystem) {				_io = ioModule.ioModule(0);			}			else {				throw new ArgumentError("the first argument should be an IOModule or an IOSystem");				return;			}						_command = GESTURE;			_io.addSysexListener(this);					}				public function handleSysex(command:uint, data:Array):void {			_data = data;					if (command != GESTURE) {				return;			}						_gesture = data[0];						dispatchEvent(new Event(Event.CHANGE));					}				public function get gesture():int {			return _gesture;		}				public function get command():uint {			return _command;		}	}}